<!DOCTYPE html>
<html>
<head>
    <title>Kolay Y√∂netim Paneli</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial; padding: 20px; }
        textarea { width: 100%; height: 300px; display: block; margin: 10px 0; }
        button { padding: 10px 20px; background: #238636; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h1>üìù Site Y√∂netim Paneli</h1>
    
    <!-- 1. KENDƒ∞ Bƒ∞LGƒ∞LERƒ∞Nƒ∞ YAZ -->
    <script>
        // ‚ö†Ô∏è A≈ûAƒûIDAKƒ∞ 3 YERƒ∞ DOLDUR ‚ö†Ô∏è
        const TOKEN = "BURAYA_TOKEN_YAPI≈ûTIR"; // GitHub token'ƒ±nƒ± buraya yapƒ±≈ütƒ±r
        const REPO = "kullanici_adi/repo_adi"; // √ñrnek: ahmetkaya/sitem
        const BRANCH = "main"; // Genelde "main" olur
    </script>

    <!-- 2. DOSYA SE√á -->
    <label>Dosya Se√ß:</label>
    <select id="dosyaSec">
        <option value="index.html">Ana Sayfa</option>
        <option value="hizmetler.html">Hizmetler</option>
        <option value="hakkimizda.html">Hakkƒ±mƒ±zda</option>
        <option value="blog.html">Blog</option>
        <option value="sss.html">SSS</option>
    </select>

    <!-- 3. ƒ∞√áERƒ∞ƒûƒ∞ D√úZENLE -->
    <textarea id="icerik" placeholder="Buraya i√ßerik yapƒ±≈ütƒ±r..."></textarea>
    
    <!-- 4. DOSYAYI Y√úKLE -->
    <button onclick="dosyaYukle()">Dosyayƒ± A√ß</button>
    
    <!-- 5. KAYDET -->
    <button onclick="kaydet()">Deƒüi≈üiklikleri Kaydet</button>
    
    <!-- SONU√á MESAJI -->
    <div id="sonuc" style="margin-top:20px; padding:10px; background:#f0f0f0;"></div>

    <script>
    async function dosyaYukle() {
        const dosya = document.getElementById('dosyaSec').value;
        const sonucDiv = document.getElementById('sonuc');
        
        try {
            sonucDiv.innerHTML = "‚è≥ Dosya y√ºkleniyor...";
            const response = await fetch(`https://api.github.com/repos/${REPO}/contents/${dosya}?ref=${BRANCH}`, {
                headers: { Authorization: `token ${TOKEN}` }
            });
            
            const data = await response.json();
            const icerik = atob(data.content); // ≈ûifreyi √ß√∂z
            document.getElementById('icerik').value = icerik;
            sonucDiv.innerHTML = "‚úÖ Dosya y√ºklendi!";
        } catch (error) {
            sonucDiv.innerHTML = `‚ùå Hata: ${error.message}`;
        }
    }

    async function kaydet() {
        const dosya = document.getElementById('dosyaSec').value;
        const yeniIcerik = document.getElementById('icerik').value;
        const sonucDiv = document.getElementById('sonuc');
        
        try {
            sonucDiv.innerHTML = "‚è≥ Kaydediliyor...";
            
            // SHA deƒüerini al
            const shaResponse = await fetch(`https://api.github.com/repos/${REPO}/contents/${dosya}?ref=${BRANCH}`, {
                headers: { Authorization: `token ${TOKEN}` }
            });
            const shaData = await shaResponse.json();
            
            // G√ºncelleme yap
            const updateResponse = await fetch(`https://api.github.com/repos/${REPO}/contents/${dosya}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${TOKEN}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: `Y√∂netim paneli g√ºncellemesi: ${dosya}`,
                    content: btoa(yeniIcerik), // ≈ûifrele
                    sha: shaData.sha,
                    branch: BRANCH
                })
            });
            
            const result = await updateResponse.json();
            sonucDiv.innerHTML = "‚úÖ Ba≈üarƒ±yla kaydedildi!<br>Deƒüi≈üiklikler 1-2 dakika i√ßinde sitede g√∂r√ºnecek.";
        } catch (error) {
            sonucDiv.innerHTML = `‚ùå Hata: ${error.message}`;
        }
    }
    </script>
</body>
</html>
